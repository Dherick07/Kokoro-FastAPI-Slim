name: kokoro-tts-cpu
services:
  kokoro-tts:
    build:
      context: ../..
      dockerfile: docker/cpu/Dockerfile
    volumes:
      - ../../api:/app/api
    user: "1000:1000"  # Match the Dockerfile's appuser UID
    ports:
      - "8880:8880"
    environment:
      - PYTHONPATH=/app:/app/api
      - USE_GPU=false
      - DEVICE=cpu
      - PYTHONUNBUFFERED=1
      - API_LOG_LEVEL=DEBUG
      - DOWNLOAD_MODEL=true
